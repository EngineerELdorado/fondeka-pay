"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/p/[code]/page",{

/***/ "(app-pages-browser)/./app/p/[code]/payments.js":
/*!**********************************!*\
  !*** ./app/p/[code]/payments.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PaymentsFeed)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// app/p/[code]/payments.js\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction PaymentsFeed(param) {\n    let { publicCode, currency = 'USD', pageSize = 10 } = param;\n    _s();\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // accumulated results\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialized, setInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // pagination state (in refs to avoid stale closures)\n    const pageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0); // next page to load\n    const hasMoreRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const loadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const fetchedPagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set()); // pages we already fetched\n    const abortRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sentinelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // formatters\n    const fmtMoney = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PaymentsFeed.useCallback[fmtMoney]\": (n)=>typeof n === 'number' ? n.toLocaleString(undefined, {\n                style: 'currency',\n                currency,\n                maximumFractionDigits: 2\n            }) : n\n    }[\"PaymentsFeed.useCallback[fmtMoney]\"], [\n        currency\n    ]);\n    const fmtDate = (iso)=>{\n        try {\n            return new Date(iso).toLocaleString();\n        } catch (e) {\n            return iso || 'â€”';\n        }\n    };\n    // core fetch (by page)\n    const fetchPage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PaymentsFeed.useCallback[fetchPage]\": async (p)=>{\n            if (!publicCode) return;\n            if (loadingRef.current) return;\n            if (!hasMoreRef.current) return;\n            if (fetchedPagesRef.current.has(p)) return;\n            loadingRef.current = true;\n            setError(null);\n            // cancel in-flight\n            if (abortRef.current) abortRef.current.abort();\n            const ac = new AbortController();\n            abortRef.current = ac;\n            try {\n                const url = \"/public/payment-requests/\".concat(encodeURIComponent(publicCode), \"/payments?page=\").concat(p, \"&size=\").concat(pageSize);\n                const res = await fetch(url, {\n                    cache: 'no-store',\n                    signal: ac.signal\n                });\n                if (!res.ok) throw new Error(\"HTTP \".concat(res.status));\n                const json = await res.json();\n                const content = Array.isArray(json === null || json === void 0 ? void 0 : json.content) ? json.content : [];\n                setItems({\n                    \"PaymentsFeed.useCallback[fetchPage]\": (prev)=>{\n                        const seen = new Set(prev.map({\n                            \"PaymentsFeed.useCallback[fetchPage]\": (x)=>x.id\n                        }[\"PaymentsFeed.useCallback[fetchPage]\"]));\n                        const next = [\n                            ...prev\n                        ];\n                        for (const it of content){\n                            if (!seen.has(it.id)) next.push(it);\n                        }\n                        return next;\n                    }\n                }[\"PaymentsFeed.useCallback[fetchPage]\"]);\n                fetchedPagesRef.current.add(p);\n                hasMoreRef.current = (json === null || json === void 0 ? void 0 : json.last) === false; // if last=false, there is more\n                pageRef.current = p + 1; // advance to next page\n            } catch (e) {\n                if ((e === null || e === void 0 ? void 0 : e.name) !== 'AbortError') setError((e === null || e === void 0 ? void 0 : e.message) || 'Impossible de charger les paiements.');\n            } finally{\n                if (abortRef.current === ac) abortRef.current = null;\n                loadingRef.current = false;\n            }\n        }\n    }[\"PaymentsFeed.useCallback[fetchPage]\"], [\n        publicCode,\n        pageSize\n    ]);\n    // initialize once per code\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PaymentsFeed.useEffect\": ()=>{\n            // reset all refs/state\n            setItems([]);\n            setError(null);\n            fetchedPagesRef.current.clear();\n            pageRef.current = 0;\n            hasMoreRef.current = true;\n            loadingRef.current = false;\n            setInitialized(true);\n            // kick off the first page\n            fetchPage(0);\n            // cleanup in case of route changes\n            return ({\n                \"PaymentsFeed.useEffect\": ()=>{\n                    if (abortRef.current) abortRef.current.abort();\n                }\n            })[\"PaymentsFeed.useEffect\"];\n        }\n    }[\"PaymentsFeed.useEffect\"], [\n        publicCode,\n        fetchPage\n    ]);\n    // intersection observer (set up once after init)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PaymentsFeed.useEffect\": ()=>{\n            if (!initialized || !sentinelRef.current) return;\n            observerRef.current = new IntersectionObserver({\n                \"PaymentsFeed.useEffect\": (entries)=>{\n                    const first = entries[0];\n                    if (!(first === null || first === void 0 ? void 0 : first.isIntersecting)) return;\n                    // only load when not loading and there is more\n                    if (!loadingRef.current && hasMoreRef.current) {\n                        const nextPage = pageRef.current;\n                        fetchPage(nextPage);\n                    }\n                }\n            }[\"PaymentsFeed.useEffect\"], {\n                // start loading a bit before the user actually reaches the end\n                root: null,\n                rootMargin: '200px 0px 200px 0px',\n                threshold: 0.1\n            });\n            observerRef.current.observe(sentinelRef.current);\n            return ({\n                \"PaymentsFeed.useEffect\": ()=>{\n                    var _observerRef_current;\n                    return (_observerRef_current = observerRef.current) === null || _observerRef_current === void 0 ? void 0 : _observerRef_current.disconnect();\n                }\n            })[\"PaymentsFeed.useEffect\"];\n        }\n    }[\"PaymentsFeed.useEffect\"], [\n        initialized,\n        fetchPage\n    ]);\n    const Empty = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            padding: 12,\n            border: '1px dashed var(--brand-border)',\n            borderRadius: 12,\n            background: '#fff'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"label\",\n                style: {\n                    marginBottom: 4\n                },\n                children: \"Aucun paiement\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 124,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-muted\",\n                children: \"Les paiements appara\\xeetront ici au fur et \\xe0 mesure.\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 125,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 123,\n        columnNumber: 9\n    }, this);\n    const Skeleton = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 8\n        },\n        children: Array.from({\n            length: 3\n        }).map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    border: '1px solid var(--brand-border)',\n                    borderRadius: 12,\n                    background: '#fff',\n                    padding: 12,\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    gap: 8\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: '60%',\n                            height: 12,\n                            background: '#F1F5F9',\n                            borderRadius: 6\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 136,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: 80,\n                            height: 12,\n                            background: '#F1F5F9',\n                            borderRadius: 6\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 137,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, i, true, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 132,\n                columnNumber: 17\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 130,\n        columnNumber: 9\n    }, this);\n    const loading = loadingRef.current;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"card card--plain\",\n        style: {\n            background: '#fff'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"card-title\",\n                children: \"Paiements\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 147,\n                columnNumber: 13\n            }, this),\n            !items.length && !loading && !error && Empty,\n            !!items.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 8,\n                    marginTop: 8\n                },\n                children: items.map((p)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            border: '1px solid var(--brand-border)',\n                            borderRadius: 12,\n                            background: '#fff',\n                            padding: 12,\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'center',\n                            gap: 8\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    minWidth: 0\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontWeight: 800,\n                                            color: '#0f172a'\n                                        },\n                                        children: fmtMoney(p.amount)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                        lineNumber: 168,\n                                        columnNumber: 33\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: 12,\n                                            color: '#475569',\n                                            marginTop: 2,\n                                            overflow: 'hidden',\n                                            textOverflow: 'ellipsis',\n                                            whiteSpace: 'nowrap'\n                                        },\n                                        title: p.payerName || p.payerReference || 'Anonymous',\n                                        children: p.payerName || p.payerReference || 'â€”'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                        lineNumber: 171,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                lineNumber: 167,\n                                columnNumber: 29\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    fontSize: 12,\n                                    color: '#64748B',\n                                    whiteSpace: 'nowrap'\n                                },\n                                children: fmtDate(p.createdAt)\n                            }, void 0, false, {\n                                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                lineNumber: 181,\n                                columnNumber: 29\n                            }, this)\n                        ]\n                    }, p.id, true, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 154,\n                        columnNumber: 25\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 152,\n                columnNumber: 17\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: 8,\n                    border: '1px solid #FECACA',\n                    background: '#FEF2F2',\n                    borderRadius: 12,\n                    padding: 10,\n                    color: '#991B1B',\n                    fontSize: 13\n                },\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 190,\n                columnNumber: 17\n            }, this),\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: 8\n                },\n                children: Skeleton\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 199,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: sentinelRef,\n                style: {\n                    height: 1\n                }\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 205,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 146,\n        columnNumber: 9\n    }, this);\n}\n_s(PaymentsFeed, \"60MWgALlaSSyrod15Lx6Kilotvs=\");\n_c = PaymentsFeed;\nvar _c;\n$RefreshReg$(_c, \"PaymentsFeed\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wL1tjb2RlXS9wYXltZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsMkJBQTJCOzs7QUFHNkM7QUFFekQsU0FBU0ssYUFBYSxLQUErQztRQUEvQyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsS0FBSyxFQUFFQyxXQUFXLEVBQUUsRUFBRSxHQUEvQzs7SUFDakMsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdOLCtDQUFRQSxDQUFDLEVBQUUsR0FBUSxzQkFBc0I7SUFDbkUsTUFBTSxDQUFDTyxPQUFPQyxTQUFTLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ1MsYUFBYUMsZUFBZSxHQUFHViwrQ0FBUUEsQ0FBQztJQUUvQyxxREFBcUQ7SUFDckQsTUFBTVcsVUFBVVosNkNBQU1BLENBQUMsSUFBc0Isb0JBQW9CO0lBQ2pFLE1BQU1hLGFBQWFiLDZDQUFNQSxDQUFDO0lBQzFCLE1BQU1jLGFBQWFkLDZDQUFNQSxDQUFDO0lBQzFCLE1BQU1lLGtCQUFrQmYsNkNBQU1BLENBQUMsSUFBSWdCLFFBQVUsMkJBQTJCO0lBQ3hFLE1BQU1DLFdBQVdqQiw2Q0FBTUEsQ0FBQztJQUV4QixNQUFNa0IsY0FBY2xCLDZDQUFNQSxDQUFDO0lBQzNCLE1BQU1tQixjQUFjbkIsNkNBQU1BLENBQUM7SUFFM0IsYUFBYTtJQUNiLE1BQU1vQixXQUFXdEIsa0RBQVdBOzhDQUN4QixDQUFDdUIsSUFDRyxPQUFPQSxNQUFNLFdBQ1BBLEVBQUVDLGNBQWMsQ0FBQ0MsV0FBVztnQkFBRUMsT0FBTztnQkFBWXBCO2dCQUFVcUIsdUJBQXVCO1lBQUUsS0FDcEZKOzZDQUNWO1FBQUNqQjtLQUFTO0lBRWQsTUFBTXNCLFVBQVUsQ0FBQ0M7UUFDYixJQUFJO1lBQUUsT0FBTyxJQUFJQyxLQUFLRCxLQUFLTCxjQUFjO1FBQUksRUFBRSxVQUFNO1lBQUUsT0FBT0ssT0FBTztRQUFLO0lBQzlFO0lBRUEsdUJBQXVCO0lBQ3ZCLE1BQU1F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QUMsT0FBTzNFLEVBQUU0RSxTQUFTLElBQUk1RSxFQUFFNkUsY0FBYyxJQUFJO2tEQUV6QzdFLEVBQUU0RSxTQUFTLElBQUk1RSxFQUFFNkUsY0FBYyxJQUFJOzs7Ozs7Ozs7Ozs7MENBRzVDLDhEQUFDakM7Z0NBQUlsRCxPQUFPO29DQUFFNkUsVUFBVTtvQ0FBSUYsT0FBTztvQ0FBV0ssWUFBWTtnQ0FBUzswQ0FDOUQ5RSxRQUFRSSxFQUFFOEUsU0FBUzs7Ozs7Ozt1QkEzQm5COUUsRUFBRXVCLEVBQUU7Ozs7Ozs7Ozs7WUFrQ3hCN0MsdUJBQ0csOERBQUNrRTtnQkFBSWxELE9BQU87b0JBQ1J3RSxXQUFXO29CQUFHcEIsUUFBUTtvQkFBcUJFLFlBQVk7b0JBQ3ZERCxjQUFjO29CQUFJRixTQUFTO29CQUFJd0IsT0FBTztvQkFBV0UsVUFBVTtnQkFDL0Q7MEJBQ0s3Rjs7Ozs7O1lBSVJxRix5QkFDRyw4REFBQ25CO2dCQUFJbEQsT0FBTztvQkFBRXdFLFdBQVc7Z0JBQUU7MEJBQ3RCZjs7Ozs7OzBCQUtULDhEQUFDUDtnQkFBSW1DLEtBQUszRjtnQkFBYU0sT0FBTztvQkFBRW9FLFFBQVE7Z0JBQUU7Ozs7Ozs7Ozs7OztBQUd0RDtHQTFNd0IxRjtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL2Rlbmlza2FsZW5nYXdhdHNoaXBhbWJhL0RvY3VtZW50cy9wcm9qZWN0cy9mb25kZWthL2ZvbmRla2EtcGF5L2FwcC9wL1tjb2RlXS9wYXltZW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAvcC9bY29kZV0vcGF5bWVudHMuanNcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBheW1lbnRzRmVlZCh7IHB1YmxpY0NvZGUsIGN1cnJlbmN5ID0gJ1VTRCcsIHBhZ2VTaXplID0gMTAgfSkge1xuICAgIGNvbnN0IFtpdGVtcywgc2V0SXRlbXNdID0gdXNlU3RhdGUoW10pOyAgICAgIC8vIGFjY3VtdWxhdGVkIHJlc3VsdHNcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtpbml0aWFsaXplZCwgc2V0SW5pdGlhbGl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgLy8gcGFnaW5hdGlvbiBzdGF0ZSAoaW4gcmVmcyB0byBhdm9pZCBzdGFsZSBjbG9zdXJlcylcbiAgICBjb25zdCBwYWdlUmVmID0gdXNlUmVmKDApOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHBhZ2UgdG8gbG9hZFxuICAgIGNvbnN0IGhhc01vcmVSZWYgPSB1c2VSZWYodHJ1ZSk7XG4gICAgY29uc3QgbG9hZGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgZmV0Y2hlZFBhZ2VzUmVmID0gdXNlUmVmKG5ldyBTZXQoKSk7ICAgLy8gcGFnZXMgd2UgYWxyZWFkeSBmZXRjaGVkXG4gICAgY29uc3QgYWJvcnRSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICBjb25zdCBzZW50aW5lbFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBvYnNlcnZlclJlZiA9IHVzZVJlZihudWxsKTtcblxuICAgIC8vIGZvcm1hdHRlcnNcbiAgICBjb25zdCBmbXRNb25leSA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAobikgPT5cbiAgICAgICAgICAgIHR5cGVvZiBuID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgID8gbi50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5LCBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIgfSlcbiAgICAgICAgICAgICAgICA6IG4sXG4gICAgICAgIFtjdXJyZW5jeV1cbiAgICApO1xuICAgIGNvbnN0IGZtdERhdGUgPSAoaXNvKSA9PiB7XG4gICAgICAgIHRyeSB7IHJldHVybiBuZXcgRGF0ZShpc28pLnRvTG9jYWxlU3RyaW5nKCk7IH0gY2F0Y2ggeyByZXR1cm4gaXNvIHx8ICfigJQnOyB9XG4gICAgfTtcblxuICAgIC8vIGNvcmUgZmV0Y2ggKGJ5IHBhZ2UpXG4gICAgY29uc3QgZmV0Y2hQYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKHApID0+IHtcbiAgICAgICAgaWYgKCFwdWJsaWNDb2RlKSByZXR1cm47XG4gICAgICAgIGlmIChsb2FkaW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgaWYgKCFoYXNNb3JlUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgaWYgKGZldGNoZWRQYWdlc1JlZi5jdXJyZW50LmhhcyhwKSkgcmV0dXJuO1xuXG4gICAgICAgIGxvYWRpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAgIC8vIGNhbmNlbCBpbi1mbGlnaHRcbiAgICAgICAgaWYgKGFib3J0UmVmLmN1cnJlbnQpIGFib3J0UmVmLmN1cnJlbnQuYWJvcnQoKTtcbiAgICAgICAgY29uc3QgYWMgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGFib3J0UmVmLmN1cnJlbnQgPSBhYztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYC9wdWJsaWMvcGF5bWVudC1yZXF1ZXN0cy8ke2VuY29kZVVSSUNvbXBvbmVudChwdWJsaWNDb2RlKX0vcGF5bWVudHM/cGFnZT0ke3B9JnNpemU9JHtwYWdlU2l6ZX1gO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7IGNhY2hlOiAnbm8tc3RvcmUnLCBzaWduYWw6IGFjLnNpZ25hbCB9KTtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gQXJyYXkuaXNBcnJheShqc29uPy5jb250ZW50KSA/IGpzb24uY29udGVudCA6IFtdO1xuXG4gICAgICAgICAgICBzZXRJdGVtcygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KHByZXYubWFwKCh4KSA9PiB4LmlkKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWVuLmhhcyhpdC5pZCkpIG5leHQucHVzaChpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZldGNoZWRQYWdlc1JlZi5jdXJyZW50LmFkZChwKTtcbiAgICAgICAgICAgIGhhc01vcmVSZWYuY3VycmVudCA9IGpzb24/Lmxhc3QgPT09IGZhbHNlOyAgICAgLy8gaWYgbGFzdD1mYWxzZSwgdGhlcmUgaXMgbW9yZVxuICAgICAgICAgICAgcGFnZVJlZi5jdXJyZW50ID0gcCArIDE7ICAgICAgICAgICAgICAgICAgICAgICAvLyBhZHZhbmNlIHRvIG5leHQgcGFnZVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZT8ubmFtZSAhPT0gJ0Fib3J0RXJyb3InKSBzZXRFcnJvcihlPy5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhaWVtZW50cy4nKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChhYm9ydFJlZi5jdXJyZW50ID09PSBhYykgYWJvcnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICBsb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sIFtwdWJsaWNDb2RlLCBwYWdlU2l6ZV0pO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSBvbmNlIHBlciBjb2RlXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gcmVzZXQgYWxsIHJlZnMvc3RhdGVcbiAgICAgICAgc2V0SXRlbXMoW10pO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgZmV0Y2hlZFBhZ2VzUmVmLmN1cnJlbnQuY2xlYXIoKTtcbiAgICAgICAgcGFnZVJlZi5jdXJyZW50ID0gMDtcbiAgICAgICAgaGFzTW9yZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgbG9hZGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgc2V0SW5pdGlhbGl6ZWQodHJ1ZSk7XG4gICAgICAgIC8vIGtpY2sgb2ZmIHRoZSBmaXJzdCBwYWdlXG4gICAgICAgIGZldGNoUGFnZSgwKTtcblxuICAgICAgICAvLyBjbGVhbnVwIGluIGNhc2Ugb2Ygcm91dGUgY2hhbmdlc1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFib3J0UmVmLmN1cnJlbnQpIGFib3J0UmVmLmN1cnJlbnQuYWJvcnQoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbcHVibGljQ29kZSwgZmV0Y2hQYWdlXSk7XG5cbiAgICAvLyBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIgKHNldCB1cCBvbmNlIGFmdGVyIGluaXQpXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpbml0aWFsaXplZCB8fCAhc2VudGluZWxSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gZW50cmllc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpcnN0Py5pc0ludGVyc2VjdGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gb25seSBsb2FkIHdoZW4gbm90IGxvYWRpbmcgYW5kIHRoZXJlIGlzIG1vcmVcbiAgICAgICAgICAgICAgICBpZiAoIWxvYWRpbmdSZWYuY3VycmVudCAmJiBoYXNNb3JlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFBhZ2UgPSBwYWdlUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoUGFnZShuZXh0UGFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBsb2FkaW5nIGEgYml0IGJlZm9yZSB0aGUgdXNlciBhY3R1YWxseSByZWFjaGVzIHRoZSBlbmRcbiAgICAgICAgICAgICAgICByb290OiBudWxsLFxuICAgICAgICAgICAgICAgIHJvb3RNYXJnaW46ICcyMDBweCAwcHggMjAwcHggMHB4JyxcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDAuMSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50Lm9ic2VydmUoc2VudGluZWxSZWYuY3VycmVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBvYnNlcnZlclJlZi5jdXJyZW50Py5kaXNjb25uZWN0KCk7XG4gICAgfSwgW2luaXRpYWxpemVkLCBmZXRjaFBhZ2VdKTtcblxuICAgIGNvbnN0IEVtcHR5ID0gKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IDEyLCBib3JkZXI6ICcxcHggZGFzaGVkIHZhcigtLWJyYW5kLWJvcmRlciknLCBib3JkZXJSYWRpdXM6IDEyLCBiYWNrZ3JvdW5kOiAnI2ZmZicgfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhYmVsXCIgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiA0IH19PkF1Y3VuIHBhaWVtZW50PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtbXV0ZWRcIj5MZXMgcGFpZW1lbnRzIGFwcGFyYcOudHJvbnQgaWNpIGF1IGZ1ciBldCDDoCBtZXN1cmUuPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG5cbiAgICBjb25zdCBTa2VsZXRvbiA9IChcbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6IDggfX0+XG4gICAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogMyB9KS5tYXAoKF8sIGkpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17aX0gc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJyYW5kLWJvcmRlciknLCBib3JkZXJSYWRpdXM6IDEyLCBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEyLCBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDhcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzYwJScsIGhlaWdodDogMTIsIGJhY2tncm91bmQ6ICcjRjFGNUY5JywgYm9yZGVyUmFkaXVzOiA2IH19IC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IDgwLCBoZWlnaHQ6IDEyLCBiYWNrZ3JvdW5kOiAnI0YxRjVGOScsIGJvcmRlclJhZGl1czogNiB9fSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG5cbiAgICBjb25zdCBsb2FkaW5nID0gbG9hZGluZ1JlZi5jdXJyZW50O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiY2FyZCBjYXJkLS1wbGFpblwiIHN0eWxlPXt7IGJhY2tncm91bmQ6ICcjZmZmJyB9fT5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+UGFpZW1lbnRzPC9oMz5cblxuICAgICAgICAgICAgeyFpdGVtcy5sZW5ndGggJiYgIWxvYWRpbmcgJiYgIWVycm9yICYmIEVtcHR5fVxuXG4gICAgICAgICAgICB7ISFpdGVtcy5sZW5ndGggJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiA4LCBtYXJnaW5Ub3A6IDggfX0+XG4gICAgICAgICAgICAgICAgICAgIHtpdGVtcy5tYXAoKHApID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3AuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJyYW5kLWJvcmRlciknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDEyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1pbldpZHRoOiAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6IDgwMCwgY29sb3I6ICcjMGYxNzJhJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmbXRNb25leShwLmFtb3VudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMiwgY29sb3I6ICcjNDc1NTY5JywgbWFyZ2luVG9wOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJywgdGV4dE92ZXJmbG93OiAnZWxsaXBzaXMnLCB3aGl0ZVNwYWNlOiAnbm93cmFwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtwLnBheWVyTmFtZSB8fCBwLnBheWVyUmVmZXJlbmNlIHx8ICdBbm9ueW1vdXMnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cC5wYXllck5hbWUgfHwgcC5wYXllclJlZmVyZW5jZSB8fCAn4oCUJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTIsIGNvbG9yOiAnIzY0NzQ4QicsIHdoaXRlU3BhY2U6ICdub3dyYXAnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm10RGF0ZShwLmNyZWF0ZWRBdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiA4LCBib3JkZXI6ICcxcHggc29saWQgI0ZFQ0FDQScsIGJhY2tncm91bmQ6ICcjRkVGMkYyJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMiwgcGFkZGluZzogMTAsIGNvbG9yOiAnIzk5MUIxQicsIGZvbnRTaXplOiAxM1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDggfX0+XG4gICAgICAgICAgICAgICAgICAgIHtTa2VsZXRvbn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBTZW50aW5lbCBmb3IgaW5maW5pdGUgc2Nyb2xsIChvYnNlcnZlZCBvbmNlKSAqL31cbiAgICAgICAgICAgIDxkaXYgcmVmPXtzZW50aW5lbFJlZn0gc3R5bGU9e3sgaGVpZ2h0OiAxIH19IC8+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIlBheW1lbnRzRmVlZCIsInB1YmxpY0NvZGUiLCJjdXJyZW5jeSIsInBhZ2VTaXplIiwiaXRlbXMiLCJzZXRJdGVtcyIsImVycm9yIiwic2V0RXJyb3IiLCJpbml0aWFsaXplZCIsInNldEluaXRpYWxpemVkIiwicGFnZVJlZiIsImhhc01vcmVSZWYiLCJsb2FkaW5nUmVmIiwiZmV0Y2hlZFBhZ2VzUmVmIiwiU2V0IiwiYWJvcnRSZWYiLCJzZW50aW5lbFJlZiIsIm9ic2VydmVyUmVmIiwiZm10TW9uZXkiLCJuIiwidG9Mb2NhbGVTdHJpbmciLCJ1bmRlZmluZWQiLCJzdHlsZSIsIm1heGltdW1GcmFjdGlvbkRpZ2l0cyIsImZtdERhdGUiLCJpc28iLCJEYXRlIiwiZmV0Y2hQYWdlIiwicCIsImN1cnJlbnQiLCJoYXMiLCJhYm9ydCIsImFjIiwiQWJvcnRDb250cm9sbGVyIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsInNpZ25hbCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwiY29udGVudCIsIkFycmF5IiwiaXNBcnJheSIsInByZXYiLCJzZWVuIiwibWFwIiwieCIsImlkIiwibmV4dCIsIml0IiwicHVzaCIsImFkZCIsImxhc3QiLCJlIiwibmFtZSIsIm1lc3NhZ2UiLCJjbGVhciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImZpcnN0IiwiaXNJbnRlcnNlY3RpbmciLCJuZXh0UGFnZSIsInJvb3QiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJFbXB0eSIsImRpdiIsInBhZGRpbmciLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kIiwiY2xhc3NOYW1lIiwibWFyZ2luQm90dG9tIiwiU2tlbGV0b24iLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImdhcCIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsIndpZHRoIiwiaGVpZ2h0IiwibG9hZGluZyIsInNlY3Rpb24iLCJoMyIsIm1hcmdpblRvcCIsIm1pbldpZHRoIiwiZm9udFdlaWdodCIsImNvbG9yIiwiYW1vdW50IiwiZm9udFNpemUiLCJvdmVyZmxvdyIsInRleHRPdmVyZmxvdyIsIndoaXRlU3BhY2UiLCJ0aXRsZSIsInBheWVyTmFtZSIsInBheWVyUmVmZXJlbmNlIiwiY3JlYXRlZEF0IiwicmVmIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/p/[code]/payments.js\n"));

/***/ })

});