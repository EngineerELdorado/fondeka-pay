"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/p/[code]/page",{

/***/ "(app-pages-browser)/./app/p/[code]/payments.js":
/*!**********************************!*\
  !*** ./app/p/[code]/payments.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PaymentsFeed)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// app/p/[code]/payments.js\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction PaymentsFeed(param) {\n    let { publicCode, currency = 'USD', pageSize = 10 } = param;\n    _s();\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // accumulated results\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialized, setInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // pagination state (in refs to avoid stale closures)\n    const pageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0); // next page to load\n    const hasMoreRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const loadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const fetchedPagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set()); // pages we already fetched\n    const abortRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sentinelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // formatters\n    const fmtMoney = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PaymentsFeed.useCallback[fmtMoney]\": (n)=>typeof n === 'number' ? n.toLocaleString(undefined, {\n                style: 'currency',\n                currency,\n                maximumFractionDigits: 2\n            }) : n\n    }[\"PaymentsFeed.useCallback[fmtMoney]\"], [\n        currency\n    ]);\n    const fmtDate = (iso)=>{\n        try {\n            return new Date(iso).toLocaleString();\n        } catch (e) {\n            return iso || 'â€”';\n        }\n    };\n    // core fetch (by page)\n    const fetchPage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PaymentsFeed.useCallback[fetchPage]\": async (p)=>{\n            if (!publicCode) return;\n            if (loadingRef.current) return;\n            if (!hasMoreRef.current) return;\n            if (fetchedPagesRef.current.has(p)) return;\n            loadingRef.current = true;\n            setError(null);\n            // cancel in-flight\n            if (abortRef.current) abortRef.current.abort();\n            const ac = new AbortController();\n            abortRef.current = ac;\n            try {\n                const url = \"/public/payment-requests/\".concat(encodeURIComponent(publicCode), \"/payments?page=\").concat(p, \"&size=\").concat(pageSize);\n                const res = await fetch(url, {\n                    cache: 'no-store',\n                    signal: ac.signal\n                });\n                if (!res.ok) throw new Error(\"HTTP \".concat(res.status));\n                const json = await res.json();\n                const content = Array.isArray(json === null || json === void 0 ? void 0 : json.content) ? json.content : [];\n                setItems({\n                    \"PaymentsFeed.useCallback[fetchPage]\": (prev)=>{\n                        const seen = new Set(prev.map({\n                            \"PaymentsFeed.useCallback[fetchPage]\": (x)=>x.id\n                        }[\"PaymentsFeed.useCallback[fetchPage]\"]));\n                        const next = [\n                            ...prev\n                        ];\n                        for (const it of content){\n                            if (!seen.has(it.id)) next.push(it);\n                        }\n                        return next;\n                    }\n                }[\"PaymentsFeed.useCallback[fetchPage]\"]);\n                fetchedPagesRef.current.add(p);\n                hasMoreRef.current = (json === null || json === void 0 ? void 0 : json.last) === false; // if last=false, there is more\n                pageRef.current = p + 1; // advance to next page\n            } catch (e) {\n                if ((e === null || e === void 0 ? void 0 : e.name) !== 'AbortError') setError((e === null || e === void 0 ? void 0 : e.message) || 'Impossible de charger les paiements.');\n            } finally{\n                if (abortRef.current === ac) abortRef.current = null;\n                loadingRef.current = false;\n            }\n        }\n    }[\"PaymentsFeed.useCallback[fetchPage]\"], [\n        publicCode,\n        pageSize\n    ]);\n    // initialize once per code\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PaymentsFeed.useEffect\": ()=>{\n            // reset all refs/state\n            setItems([]);\n            setError(null);\n            fetchedPagesRef.current.clear();\n            pageRef.current = 0;\n            hasMoreRef.current = true;\n            loadingRef.current = false;\n            setInitialized(true);\n            // kick off the first page\n            fetchPage(0);\n            // cleanup in case of route changes\n            return ({\n                \"PaymentsFeed.useEffect\": ()=>{\n                    if (abortRef.current) abortRef.current.abort();\n                }\n            })[\"PaymentsFeed.useEffect\"];\n        }\n    }[\"PaymentsFeed.useEffect\"], [\n        publicCode,\n        fetchPage\n    ]);\n    // intersection observer (set up once after init)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PaymentsFeed.useEffect\": ()=>{\n            if (!initialized || !sentinelRef.current) return;\n            observerRef.current = new IntersectionObserver({\n                \"PaymentsFeed.useEffect\": (entries)=>{\n                    const first = entries[0];\n                    if (!(first === null || first === void 0 ? void 0 : first.isIntersecting)) return;\n                    // only load when not loading and there is more\n                    if (!loadingRef.current && hasMoreRef.current) {\n                        const nextPage = pageRef.current;\n                        fetchPage(nextPage);\n                    }\n                }\n            }[\"PaymentsFeed.useEffect\"], {\n                // start loading a bit before the user actually reaches the end\n                root: null,\n                rootMargin: '200px 0px 200px 0px',\n                threshold: 0.1\n            });\n            observerRef.current.observe(sentinelRef.current);\n            return ({\n                \"PaymentsFeed.useEffect\": ()=>{\n                    var _observerRef_current;\n                    return (_observerRef_current = observerRef.current) === null || _observerRef_current === void 0 ? void 0 : _observerRef_current.disconnect();\n                }\n            })[\"PaymentsFeed.useEffect\"];\n        }\n    }[\"PaymentsFeed.useEffect\"], [\n        initialized,\n        fetchPage\n    ]);\n    const Empty = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            padding: 12,\n            border: '1px dashed var(--brand-border)',\n            borderRadius: 12,\n            background: '#fff'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"label\",\n                style: {\n                    marginBottom: 4\n                },\n                children: \"Aucun paiement\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 124,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-muted\",\n                children: \"Les paiements appara\\xeetront ici au fur et \\xe0 mesure.\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 125,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 123,\n        columnNumber: 9\n    }, this);\n    const Skeleton = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 8\n        },\n        children: Array.from({\n            length: 3\n        }).map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    border: '1px solid var(--brand-border)',\n                    borderRadius: 12,\n                    background: '#fff',\n                    padding: 12,\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    gap: 8\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: '60%',\n                            height: 12,\n                            background: '#F1F5F9',\n                            borderRadius: 6\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 136,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: 80,\n                            height: 12,\n                            background: '#F1F5F9',\n                            borderRadius: 6\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 137,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, i, true, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 132,\n                columnNumber: 17\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 130,\n        columnNumber: 9\n    }, this);\n    const loading = loadingRef.current;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"card card--plain\",\n        style: {\n            background: '#fff'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"card-title\",\n                children: \"Paiements\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 147,\n                columnNumber: 13\n            }, this),\n            !items.length && !loading && !error && Empty,\n            !!items.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 8,\n                    marginTop: 8\n                },\n                children: items.map((p)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            border: '1px solid var(--brand-border)',\n                            borderRadius: 12,\n                            background: '#fff',\n                            padding: 12,\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'center',\n                            gap: 8\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    minWidth: 0\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontWeight: 800,\n                                            color: '#0f172a'\n                                        },\n                                        children: fmtMoney(p.amount)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                        lineNumber: 168,\n                                        columnNumber: 33\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: 12,\n                                            color: '#475569',\n                                            marginTop: 2,\n                                            overflow: 'hidden',\n                                            textOverflow: 'ellipsis',\n                                            whiteSpace: 'nowrap'\n                                        },\n                                        title: p.payerName || p.payerReference || undefined,\n                                        children: p.payerName || p.payerReference || 'â€”'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                        lineNumber: 171,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                lineNumber: 167,\n                                columnNumber: 29\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    fontSize: 12,\n                                    color: '#64748B',\n                                    whiteSpace: 'nowrap'\n                                },\n                                children: fmtDate(p.createdAt)\n                            }, void 0, false, {\n                                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                lineNumber: 181,\n                                columnNumber: 29\n                            }, this)\n                        ]\n                    }, p.id, true, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 154,\n                        columnNumber: 25\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 152,\n                columnNumber: 17\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: 8,\n                    border: '1px solid #FECACA',\n                    background: '#FEF2F2',\n                    borderRadius: 12,\n                    padding: 10,\n                    color: '#991B1B',\n                    fontSize: 13\n                },\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 190,\n                columnNumber: 17\n            }, this),\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: 8\n                },\n                children: Skeleton\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 199,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: sentinelRef,\n                style: {\n                    height: 1\n                }\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 205,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 146,\n        columnNumber: 9\n    }, this);\n}\n_s(PaymentsFeed, \"60MWgALlaSSyrod15Lx6Kilotvs=\");\n_c = PaymentsFeed;\nvar _c;\n$RefreshReg$(_c, \"PaymentsFeed\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wL1tjb2RlXS9wYXltZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsMkJBQTJCOzs7QUFHNkM7QUFFekQsU0FBU0ssYUFBYSxLQUErQztRQUEvQyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsS0FBSyxFQUFFQyxXQUFXLEVBQUUsRUFBRSxHQUEvQzs7SUFDakMsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdOLCtDQUFRQSxDQUFDLEVBQUUsR0FBUSxzQkFBc0I7SUFDbkUsTUFBTSxDQUFDTyxPQUFPQyxTQUFTLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ1MsYUFBYUMsZUFBZSxHQUFHViwrQ0FBUUEsQ0FBQztJQUUvQyxxREFBcUQ7SUFDckQsTUFBTVcsVUFBVVosNkNBQU1BLENBQUMsSUFBc0Isb0JBQW9CO0lBQ2pFLE1BQU1hLGFBQWFiLDZDQUFNQSxDQUFDO0lBQzFCLE1BQU1jLGFBQWFkLDZDQUFNQSxDQUFDO0lBQzFCLE1BQU1lLGtCQUFrQmYsNkNBQU1BLENBQUMsSUFBSWdCLFFBQVUsMkJBQTJCO0lBQ3hFLE1BQU1DLFdBQVdqQiw2Q0FBTUEsQ0FBQztJQUV4QixNQUFNa0IsY0FBY2xCLDZDQUFNQSxDQUFDO0lBQzNCLE1BQU1tQixjQUFjbkIsNkNBQU1BLENBQUM7SUFFM0IsYUFBYTtJQUNiLE1BQU1vQixXQUFXdEIsa0RBQVdBOzhDQUN4QixDQUFDdUIsSUFDRyxPQUFPQSxNQUFNLFdBQ1BBLEVBQUVDLGNBQWMsQ0FBQ0MsV0FBVztnQkFBRUMsT0FBTztnQkFBWXBCO2dCQUFVcUIsdUJBQXVCO1lBQUUsS0FDcEZKOzZDQUNWO1FBQUNqQjtLQUFTO0lBRWQsTUFBTXNCLFVBQVUsQ0FBQ0M7UUFDYixJQUFJO1lBQUUsT0FBTyxJQUFJQyxLQUFLRCxLQUFLTCxjQUFjO1FBQUksRUFBRSxVQUFNO1lBQUUsT0FBT0ssT0FBTztRQUFLO0lBQzlFO0lBRUEsdUJBQXVCO0lBQ3ZCLE1BQU1F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QUMsT0FBTzNFLEVBQUU0RSxTQUFTLElBQUk1RSxFQUFFNkUsY0FBYyxJQUFJcEY7a0RBRXpDTyxFQUFFNEUsU0FBUyxJQUFJNUUsRUFBRTZFLGNBQWMsSUFBSTs7Ozs7Ozs7Ozs7OzBDQUc1Qyw4REFBQ2pDO2dDQUFJbEQsT0FBTztvQ0FBRTZFLFVBQVU7b0NBQUlGLE9BQU87b0NBQVdLLFlBQVk7Z0NBQVM7MENBQzlEOUUsUUFBUUksRUFBRThFLFNBQVM7Ozs7Ozs7dUJBM0JuQjlFLEVBQUV1QixFQUFFOzs7Ozs7Ozs7O1lBa0N4QjdDLHVCQUNHLDhEQUFDa0U7Z0JBQUlsRCxPQUFPO29CQUNSd0UsV0FBVztvQkFBR3BCLFFBQVE7b0JBQXFCRSxZQUFZO29CQUN2REQsY0FBYztvQkFBSUYsU0FBUztvQkFBSXdCLE9BQU87b0JBQVdFLFVBQVU7Z0JBQy9EOzBCQUNLN0Y7Ozs7OztZQUlScUYseUJBQ0csOERBQUNuQjtnQkFBSWxELE9BQU87b0JBQUV3RSxXQUFXO2dCQUFFOzBCQUN0QmY7Ozs7OzswQkFLVCw4REFBQ1A7Z0JBQUltQyxLQUFLM0Y7Z0JBQWFNLE9BQU87b0JBQUVvRSxRQUFRO2dCQUFFOzs7Ozs7Ozs7Ozs7QUFHdEQ7R0ExTXdCMUY7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kZW5pc2thbGVuZ2F3YXRzaGlwYW1iYS9Eb2N1bWVudHMvcHJvamVjdHMvZm9uZGVrYS9mb25kZWthLXBheS9hcHAvcC9bY29kZV0vcGF5bWVudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL3AvW2NvZGVdL3BheW1lbnRzLmpzXG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXltZW50c0ZlZWQoeyBwdWJsaWNDb2RlLCBjdXJyZW5jeSA9ICdVU0QnLCBwYWdlU2l6ZSA9IDEwIH0pIHtcbiAgICBjb25zdCBbaXRlbXMsIHNldEl0ZW1zXSA9IHVzZVN0YXRlKFtdKTsgICAgICAvLyBhY2N1bXVsYXRlZCByZXN1bHRzXG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbaW5pdGlhbGl6ZWQsIHNldEluaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIC8vIHBhZ2luYXRpb24gc3RhdGUgKGluIHJlZnMgdG8gYXZvaWQgc3RhbGUgY2xvc3VyZXMpXG4gICAgY29uc3QgcGFnZVJlZiA9IHVzZVJlZigwKTsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBwYWdlIHRvIGxvYWRcbiAgICBjb25zdCBoYXNNb3JlUmVmID0gdXNlUmVmKHRydWUpO1xuICAgIGNvbnN0IGxvYWRpbmdSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IGZldGNoZWRQYWdlc1JlZiA9IHVzZVJlZihuZXcgU2V0KCkpOyAgIC8vIHBhZ2VzIHdlIGFscmVhZHkgZmV0Y2hlZFxuICAgIGNvbnN0IGFib3J0UmVmID0gdXNlUmVmKG51bGwpO1xuXG4gICAgY29uc3Qgc2VudGluZWxSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAvLyBmb3JtYXR0ZXJzXG4gICAgY29uc3QgZm10TW9uZXkgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKG4pID0+XG4gICAgICAgICAgICB0eXBlb2YgbiA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICA/IG4udG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeSwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pXG4gICAgICAgICAgICAgICAgOiBuLFxuICAgICAgICBbY3VycmVuY3ldXG4gICAgKTtcbiAgICBjb25zdCBmbXREYXRlID0gKGlzbykgPT4ge1xuICAgICAgICB0cnkgeyByZXR1cm4gbmV3IERhdGUoaXNvKS50b0xvY2FsZVN0cmluZygpOyB9IGNhdGNoIHsgcmV0dXJuIGlzbyB8fCAn4oCUJzsgfVxuICAgIH07XG5cbiAgICAvLyBjb3JlIGZldGNoIChieSBwYWdlKVxuICAgIGNvbnN0IGZldGNoUGFnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChwKSA9PiB7XG4gICAgICAgIGlmICghcHVibGljQ29kZSkgcmV0dXJuO1xuICAgICAgICBpZiAobG9hZGluZ1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGlmICghaGFzTW9yZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGlmIChmZXRjaGVkUGFnZXNSZWYuY3VycmVudC5oYXMocCkpIHJldHVybjtcblxuICAgICAgICBsb2FkaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgICAvLyBjYW5jZWwgaW4tZmxpZ2h0XG4gICAgICAgIGlmIChhYm9ydFJlZi5jdXJyZW50KSBhYm9ydFJlZi5jdXJyZW50LmFib3J0KCk7XG4gICAgICAgIGNvbnN0IGFjID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBhYm9ydFJlZi5jdXJyZW50ID0gYWM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAvcHVibGljL3BheW1lbnQtcmVxdWVzdHMvJHtlbmNvZGVVUklDb21wb25lbnQocHVibGljQ29kZSl9L3BheW1lbnRzP3BhZ2U9JHtwfSZzaXplPSR7cGFnZVNpemV9YDtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBjYWNoZTogJ25vLXN0b3JlJywgc2lnbmFsOiBhYy5zaWduYWwgfSk7XG4gICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IEFycmF5LmlzQXJyYXkoanNvbj8uY29udGVudCkgPyBqc29uLmNvbnRlbnQgOiBbXTtcblxuICAgICAgICAgICAgc2V0SXRlbXMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWVuID0gbmV3IFNldChwcmV2Lm1hcCgoeCkgPT4geC5pZCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdCBvZiBjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2Vlbi5oYXMoaXQuaWQpKSBuZXh0LnB1c2goaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmZXRjaGVkUGFnZXNSZWYuY3VycmVudC5hZGQocCk7XG4gICAgICAgICAgICBoYXNNb3JlUmVmLmN1cnJlbnQgPSBqc29uPy5sYXN0ID09PSBmYWxzZTsgICAgIC8vIGlmIGxhc3Q9ZmFsc2UsIHRoZXJlIGlzIG1vcmVcbiAgICAgICAgICAgIHBhZ2VSZWYuY3VycmVudCA9IHAgKyAxOyAgICAgICAgICAgICAgICAgICAgICAgLy8gYWR2YW5jZSB0byBuZXh0IHBhZ2VcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGU/Lm5hbWUgIT09ICdBYm9ydEVycm9yJykgc2V0RXJyb3IoZT8ubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWllbWVudHMuJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoYWJvcnRSZWYuY3VycmVudCA9PT0gYWMpIGFib3J0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgbG9hZGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCBbcHVibGljQ29kZSwgcGFnZVNpemVdKTtcblxuICAgIC8vIGluaXRpYWxpemUgb25jZSBwZXIgY29kZVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIHJlc2V0IGFsbCByZWZzL3N0YXRlXG4gICAgICAgIHNldEl0ZW1zKFtdKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIGZldGNoZWRQYWdlc1JlZi5jdXJyZW50LmNsZWFyKCk7XG4gICAgICAgIHBhZ2VSZWYuY3VycmVudCA9IDA7XG4gICAgICAgIGhhc01vcmVSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIGxvYWRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuXG4gICAgICAgIHNldEluaXRpYWxpemVkKHRydWUpO1xuICAgICAgICAvLyBraWNrIG9mZiB0aGUgZmlyc3QgcGFnZVxuICAgICAgICBmZXRjaFBhZ2UoMCk7XG5cbiAgICAgICAgLy8gY2xlYW51cCBpbiBjYXNlIG9mIHJvdXRlIGNoYW5nZXNcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChhYm9ydFJlZi5jdXJyZW50KSBhYm9ydFJlZi5jdXJyZW50LmFib3J0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW3B1YmxpY0NvZGUsIGZldGNoUGFnZV0pO1xuXG4gICAgLy8gaW50ZXJzZWN0aW9uIG9ic2VydmVyIChzZXQgdXAgb25jZSBhZnRlciBpbml0KVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaW5pdGlhbGl6ZWQgfHwgIXNlbnRpbmVsUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdCA9IGVudHJpZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKCFmaXJzdD8uaXNJbnRlcnNlY3RpbmcpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIG9ubHkgbG9hZCB3aGVuIG5vdCBsb2FkaW5nIGFuZCB0aGVyZSBpcyBtb3JlXG4gICAgICAgICAgICAgICAgaWYgKCFsb2FkaW5nUmVmLmN1cnJlbnQgJiYgaGFzTW9yZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQYWdlID0gcGFnZVJlZi5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBmZXRjaFBhZ2UobmV4dFBhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZyBhIGJpdCBiZWZvcmUgdGhlIHVzZXIgYWN0dWFsbHkgcmVhY2hlcyB0aGUgZW5kXG4gICAgICAgICAgICAgICAgcm9vdDogbnVsbCxcbiAgICAgICAgICAgICAgICByb290TWFyZ2luOiAnMjAwcHggMHB4IDIwMHB4IDBweCcsXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAwLjEsXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC5vYnNlcnZlKHNlbnRpbmVsUmVmLmN1cnJlbnQpO1xuICAgICAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXJSZWYuY3VycmVudD8uZGlzY29ubmVjdCgpO1xuICAgIH0sIFtpbml0aWFsaXplZCwgZmV0Y2hQYWdlXSk7XG5cbiAgICBjb25zdCBFbXB0eSA9IChcbiAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAxMiwgYm9yZGVyOiAnMXB4IGRhc2hlZCB2YXIoLS1icmFuZC1ib3JkZXIpJywgYm9yZGVyUmFkaXVzOiAxMiwgYmFja2dyb3VuZDogJyNmZmYnIH19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYWJlbFwiIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogNCB9fT5BdWN1biBwYWllbWVudDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLW11dGVkXCI+TGVzIHBhaWVtZW50cyBhcHBhcmHDrnRyb250IGljaSBhdSBmdXIgZXQgw6AgbWVzdXJlLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xuXG4gICAgY29uc3QgU2tlbGV0b24gPSAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiA4IH19PlxuICAgICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDMgfSkubWFwKChfLCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1icmFuZC1ib3JkZXIpJywgYm9yZGVyUmFkaXVzOiAxMiwgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMiwgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiA4XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICc2MCUnLCBoZWlnaHQ6IDEyLCBiYWNrZ3JvdW5kOiAnI0YxRjVGOScsIGJvcmRlclJhZGl1czogNiB9fSAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiA4MCwgaGVpZ2h0OiAxMiwgYmFja2dyb3VuZDogJyNGMUY1RjknLCBib3JkZXJSYWRpdXM6IDYgfX0gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xuXG4gICAgY29uc3QgbG9hZGluZyA9IGxvYWRpbmdSZWYuY3VycmVudDtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImNhcmQgY2FyZC0tcGxhaW5cIiBzdHlsZT17eyBiYWNrZ3JvdW5kOiAnI2ZmZicgfX0+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlBhaWVtZW50czwvaDM+XG5cbiAgICAgICAgICAgIHshaXRlbXMubGVuZ3RoICYmICFsb2FkaW5nICYmICFlcnJvciAmJiBFbXB0eX1cblxuICAgICAgICAgICAgeyEhaXRlbXMubGVuZ3RoICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogOCwgbWFyZ2luVG9wOiA4IH19PlxuICAgICAgICAgICAgICAgICAgICB7aXRlbXMubWFwKChwKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtwLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1icmFuZC1ib3JkZXIpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiA4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtaW5XaWR0aDogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiA4MDAsIGNvbG9yOiAnIzBmMTcyYScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm10TW9uZXkocC5hbW91bnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsIGNvbG9yOiAnIzQ3NTU2OScsIG1hcmdpblRvcDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJywgd2hpdGVTcGFjZTogJ25vd3JhcCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17cC5wYXllck5hbWUgfHwgcC5wYXllclJlZmVyZW5jZSB8fCB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwLnBheWVyTmFtZSB8fCBwLnBheWVyUmVmZXJlbmNlIHx8ICfigJQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAxMiwgY29sb3I6ICcjNjQ3NDhCJywgd2hpdGVTcGFjZTogJ25vd3JhcCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmbXREYXRlKHAuY3JlYXRlZEF0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IDgsIGJvcmRlcjogJzFweCBzb2xpZCAjRkVDQUNBJywgYmFja2dyb3VuZDogJyNGRUYyRjInLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDEyLCBwYWRkaW5nOiAxMCwgY29sb3I6ICcjOTkxQjFCJywgZm9udFNpemU6IDEzXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtsb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogOCB9fT5cbiAgICAgICAgICAgICAgICAgICAge1NrZWxldG9ufVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIFNlbnRpbmVsIGZvciBpbmZpbml0ZSBzY3JvbGwgKG9ic2VydmVkIG9uY2UpICovfVxuICAgICAgICAgICAgPGRpdiByZWY9e3NlbnRpbmVsUmVmfSBzdHlsZT17eyBoZWlnaHQ6IDEgfX0gLz5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiUGF5bWVudHNGZWVkIiwicHVibGljQ29kZSIsImN1cnJlbmN5IiwicGFnZVNpemUiLCJpdGVtcyIsInNldEl0ZW1zIiwiZXJyb3IiLCJzZXRFcnJvciIsImluaXRpYWxpemVkIiwic2V0SW5pdGlhbGl6ZWQiLCJwYWdlUmVmIiwiaGFzTW9yZVJlZiIsImxvYWRpbmdSZWYiLCJmZXRjaGVkUGFnZXNSZWYiLCJTZXQiLCJhYm9ydFJlZiIsInNlbnRpbmVsUmVmIiwib2JzZXJ2ZXJSZWYiLCJmbXRNb25leSIsIm4iLCJ0b0xvY2FsZVN0cmluZyIsInVuZGVmaW5lZCIsInN0eWxlIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZm10RGF0ZSIsImlzbyIsIkRhdGUiLCJmZXRjaFBhZ2UiLCJwIiwiY3VycmVudCIsImhhcyIsImFib3J0IiwiYWMiLCJBYm9ydENvbnRyb2xsZXIiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXMiLCJmZXRjaCIsImNhY2hlIiwic2lnbmFsIiwib2siLCJFcnJvciIsInN0YXR1cyIsImpzb24iLCJjb250ZW50IiwiQXJyYXkiLCJpc0FycmF5IiwicHJldiIsInNlZW4iLCJtYXAiLCJ4IiwiaWQiLCJuZXh0IiwiaXQiLCJwdXNoIiwiYWRkIiwibGFzdCIsImUiLCJuYW1lIiwibWVzc2FnZSIsImNsZWFyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZmlyc3QiLCJpc0ludGVyc2VjdGluZyIsIm5leHRQYWdlIiwicm9vdCIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsIkVtcHR5IiwiZGl2IiwicGFkZGluZyIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJjbGFzc05hbWUiLCJtYXJnaW5Cb3R0b20iLCJTa2VsZXRvbiIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiZ2FwIiwiZnJvbSIsImxlbmd0aCIsIl8iLCJpIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwid2lkdGgiLCJoZWlnaHQiLCJsb2FkaW5nIiwic2VjdGlvbiIsImgzIiwibWFyZ2luVG9wIiwibWluV2lkdGgiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJhbW91bnQiLCJmb250U2l6ZSIsIm92ZXJmbG93IiwidGV4dE92ZXJmbG93Iiwid2hpdGVTcGFjZSIsInRpdGxlIiwicGF5ZXJOYW1lIiwicGF5ZXJSZWZlcmVuY2UiLCJjcmVhdGVkQXQiLCJyZWYiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/p/[code]/payments.js\n"));

/***/ })

});