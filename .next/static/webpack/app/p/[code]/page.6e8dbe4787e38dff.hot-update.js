"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/p/[code]/page",{

/***/ "(app-pages-browser)/./app/p/[code]/payments.js":
/*!**********************************!*\
  !*** ./app/p/[code]/payments.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PaymentsFeed)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/api */ \"(app-pages-browser)/./lib/api.js\");\n// app/p/[code]/payments.js\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n // <-- uses NEXT_PUBLIC_API_BASE\nfunction PaymentsFeed(param) {\n    let { publicCode, currency = 'USD', pageSize = 10 } = param;\n    _s();\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // accumulated results\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // pagination state in refs (avoids stale closures / double loads)\n    const pageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0); // next page to load\n    const hasMoreRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const loadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const fetchedPagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set()); // pages already fetched\n    const abortRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // sentinel + observer\n    const sentinelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const initializedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const fmtMoney = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PaymentsFeed.useCallback[fmtMoney]\": (n)=>typeof n === 'number' ? n.toLocaleString(undefined, {\n                style: 'currency',\n                currency,\n                maximumFractionDigits: 2\n            }) : n\n    }[\"PaymentsFeed.useCallback[fmtMoney]\"], [\n        currency\n    ]);\n    const fmtDate = (iso)=>{\n        try {\n            return new Date(iso).toLocaleString();\n        } catch (e) {\n            return iso || '—';\n        }\n    };\n    const fetchPage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PaymentsFeed.useCallback[fetchPage]\": async (p)=>{\n            if (!publicCode) return;\n            if (loadingRef.current) return;\n            if (!hasMoreRef.current) return;\n            if (fetchedPagesRef.current.has(p)) return;\n            loadingRef.current = true;\n            setError(null);\n            // cancel in-flight request if any\n            if (abortRef.current) abortRef.current.abort();\n            const ac = new AbortController();\n            abortRef.current = ac;\n            try {\n                const url = \"\".concat(_lib_api__WEBPACK_IMPORTED_MODULE_2__.API_BASE, \"/public/payment-requests/\").concat(encodeURIComponent(publicCode), \"/payments?page=\").concat(p, \"&size=\").concat(pageSize);\n                const res = await fetch(url, {\n                    cache: 'no-store',\n                    signal: ac.signal\n                });\n                if (!res.ok) throw new Error(\"HTTP \".concat(res.status));\n                const json = await res.json();\n                const content = Array.isArray(json === null || json === void 0 ? void 0 : json.content) ? json.content : [];\n                setItems({\n                    \"PaymentsFeed.useCallback[fetchPage]\": (prev)=>{\n                        const seen = new Set(prev.map({\n                            \"PaymentsFeed.useCallback[fetchPage]\": (x)=>x.id\n                        }[\"PaymentsFeed.useCallback[fetchPage]\"]));\n                        const next = [\n                            ...prev\n                        ];\n                        for (const it of content){\n                            if (!seen.has(it.id)) next.push(it);\n                        }\n                        return next;\n                    }\n                }[\"PaymentsFeed.useCallback[fetchPage]\"]);\n                fetchedPagesRef.current.add(p);\n                hasMoreRef.current = (json === null || json === void 0 ? void 0 : json.last) === false; // there is more only if last=false\n                pageRef.current = p + 1; // advance\n            } catch (e) {\n                if ((e === null || e === void 0 ? void 0 : e.name) !== 'AbortError') setError((e === null || e === void 0 ? void 0 : e.message) || 'Impossible de charger les paiements.');\n            } finally{\n                if (abortRef.current === ac) abortRef.current = null;\n                loadingRef.current = false;\n            }\n        }\n    }[\"PaymentsFeed.useCallback[fetchPage]\"], [\n        publicCode,\n        pageSize\n    ]);\n    // initialize per code\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PaymentsFeed.useEffect\": ()=>{\n            // reset all state/refs\n            setItems([]);\n            setError(null);\n            fetchedPagesRef.current.clear();\n            pageRef.current = 0;\n            hasMoreRef.current = true;\n            loadingRef.current = false;\n            // kick off first page\n            initializedRef.current = true;\n            fetchPage(0);\n            return ({\n                \"PaymentsFeed.useEffect\": ()=>{\n                    if (abortRef.current) abortRef.current.abort();\n                }\n            })[\"PaymentsFeed.useEffect\"];\n        }\n    }[\"PaymentsFeed.useEffect\"], [\n        publicCode,\n        fetchPage\n    ]);\n    // intersection observer: load next page when sentinel is visible\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PaymentsFeed.useEffect\": ()=>{\n            if (!initializedRef.current || !sentinelRef.current) return;\n            observerRef.current = new IntersectionObserver({\n                \"PaymentsFeed.useEffect\": (entries)=>{\n                    const first = entries[0];\n                    if (!(first === null || first === void 0 ? void 0 : first.isIntersecting)) return;\n                    // only fire when not loading and more pages exist\n                    if (!loadingRef.current && hasMoreRef.current) {\n                        fetchPage(pageRef.current);\n                    }\n                }\n            }[\"PaymentsFeed.useEffect\"], {\n                root: null,\n                rootMargin: '200px 0px',\n                threshold: 0.1\n            });\n            observerRef.current.observe(sentinelRef.current);\n            return ({\n                \"PaymentsFeed.useEffect\": ()=>{\n                    var _observerRef_current;\n                    return (_observerRef_current = observerRef.current) === null || _observerRef_current === void 0 ? void 0 : _observerRef_current.disconnect();\n                }\n            })[\"PaymentsFeed.useEffect\"];\n        }\n    }[\"PaymentsFeed.useEffect\"], [\n        fetchPage\n    ]);\n    const Empty = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            padding: 12,\n            border: '1px dashed var(--brand-border)',\n            borderRadius: 12,\n            background: '#fff'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"label\",\n                style: {\n                    marginBottom: 4\n                },\n                children: \"Aucun paiement\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 117,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-muted\",\n                children: \"Les paiements appara\\xeetront ici au fur et \\xe0 mesure.\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 118,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 116,\n        columnNumber: 9\n    }, this);\n    const Skeleton = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 8\n        },\n        children: Array.from({\n            length: 3\n        }).map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    border: '1px solid var(--brand-border)',\n                    borderRadius: 12,\n                    background: '#fff',\n                    padding: 12,\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    gap: 8\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: '60%',\n                            height: 12,\n                            background: '#F1F5F9',\n                            borderRadius: 6\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 129,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: 80,\n                            height: 12,\n                            background: '#F1F5F9',\n                            borderRadius: 6\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 130,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, i, true, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 125,\n                columnNumber: 17\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 123,\n        columnNumber: 9\n    }, this);\n    const loading = loadingRef.current;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"card card--plain\",\n        style: {\n            background: '#fff'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"card-title\",\n                children: \"Paiements\"\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 140,\n                columnNumber: 13\n            }, this),\n            !items.length && !loading && !error && Empty,\n            !!items.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 8,\n                    marginTop: 8\n                },\n                children: items.map((p)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            border: '1px solid var(--brand-border)',\n                            borderRadius: 12,\n                            background: '#fff',\n                            padding: 12,\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'center',\n                            gap: 8\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    minWidth: 0\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontWeight: 800,\n                                            color: '#0f172a'\n                                        },\n                                        children: fmtMoney(p.amount)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                        lineNumber: 161,\n                                        columnNumber: 33\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            fontSize: 12,\n                                            color: '#475569',\n                                            marginTop: 2,\n                                            overflow: 'hidden',\n                                            textOverflow: 'ellipsis',\n                                            whiteSpace: 'nowrap'\n                                        },\n                                        title: p.payerName || p.payerReference || undefined,\n                                        children: p.payerName || p.payerReference || '—'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                        lineNumber: 164,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                lineNumber: 160,\n                                columnNumber: 29\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    fontSize: 12,\n                                    color: '#64748B',\n                                    whiteSpace: 'nowrap'\n                                },\n                                children: fmtDate(p.createdAt)\n                            }, void 0, false, {\n                                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                                lineNumber: 174,\n                                columnNumber: 29\n                            }, this)\n                        ]\n                    }, p.id, true, {\n                        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                        lineNumber: 147,\n                        columnNumber: 25\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 145,\n                columnNumber: 17\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: 8,\n                    border: '1px solid #FECACA',\n                    background: '#FEF2F2',\n                    borderRadius: 12,\n                    padding: 10,\n                    color: '#991B1B',\n                    fontSize: 13\n                },\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 183,\n                columnNumber: 17\n            }, this),\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: 8\n                },\n                children: Skeleton\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 192,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: sentinelRef,\n                style: {\n                    height: 1\n                }\n            }, void 0, false, {\n                fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n                lineNumber: 198,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/deniskalengawatshipamba/Documents/projects/fondeka/fondeka-pay/app/p/[code]/payments.js\",\n        lineNumber: 139,\n        columnNumber: 9\n    }, this);\n}\n_s(PaymentsFeed, \"+YaDF6/i7Z1d4aBUFosTbtTA0Vw=\");\n_c = PaymentsFeed;\nvar _c;\n$RefreshReg$(_c, \"PaymentsFeed\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wL1tjb2RlXS9wYXltZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLDJCQUEyQjs7O0FBRzZDO0FBQzVCLENBQUMsZ0NBQWdDO0FBRTlELFNBQVNNLGFBQWEsS0FBK0M7UUFBL0MsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEtBQUssRUFBRUMsV0FBVyxFQUFFLEVBQUUsR0FBL0M7O0lBQ2pDLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHUCwrQ0FBUUEsQ0FBQyxFQUFFLEdBQVksc0JBQXNCO0lBQ3ZFLE1BQU0sQ0FBQ1EsT0FBT0MsU0FBUyxHQUFHVCwrQ0FBUUEsQ0FBQztJQUVuQyxrRUFBa0U7SUFDbEUsTUFBTVUsVUFBVVgsNkNBQU1BLENBQUMsSUFBMEIsb0JBQW9CO0lBQ3JFLE1BQU1ZLGFBQWFaLDZDQUFNQSxDQUFDO0lBQzFCLE1BQU1hLGFBQWFiLDZDQUFNQSxDQUFDO0lBQzFCLE1BQU1jLGtCQUFrQmQsNkNBQU1BLENBQUMsSUFBSWUsUUFBYyx3QkFBd0I7SUFDekUsTUFBTUMsV0FBV2hCLDZDQUFNQSxDQUFDO0lBRXhCLHNCQUFzQjtJQUN0QixNQUFNaUIsY0FBY2pCLDZDQUFNQSxDQUFDO0lBQzNCLE1BQU1rQixjQUFjbEIsNkNBQU1BLENBQUM7SUFDM0IsTUFBTW1CLGlCQUFpQm5CLDZDQUFNQSxDQUFDO0lBRTlCLE1BQU1vQixXQUFXdEIsa0RBQVdBOzhDQUN4QixDQUFDdUIsSUFDRyxPQUFPQSxNQUFNLFdBQ1BBLEVBQUVDLGNBQWMsQ0FBQ0MsV0FBVztnQkFBRUMsT0FBTztnQkFBWW5CO2dCQUFVb0IsdUJBQXVCO1lBQUUsS0FDcEZKOzZDQUNWO1FBQUNoQjtLQUFTO0lBR2QsTUFBTXFCLFVBQVUsQ0FBQ0M7UUFDYixJQUFJO1lBQUUsT0FBTyxJQUFJQyxLQUFLRCxLQUFLTCxjQUFjO1FBQUksRUFBRSxVQUFNO1lBQUUsT0FBT0ssT0FBTztRQUFLO0lBQzlFO0lBRUEsTUFBTUUsWUFB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LEVBQUUyRSxTQUFTLElBQUkzRSxFQUFFNEUsY0FBYyxJQUFJbkY7a0RBRXpDTyxFQUFFMkUsU0FBUyxJQUFJM0UsRUFBRTRFLGNBQWMsSUFBSTs7Ozs7Ozs7Ozs7OzBDQUc1Qyw4REFBQ2pDO2dDQUFJakQsT0FBTztvQ0FBRTRFLFVBQVU7b0NBQUlGLE9BQU87b0NBQVdLLFlBQVk7Z0NBQVM7MENBQzlEN0UsUUFBUUksRUFBRTZFLFNBQVM7Ozs7Ozs7dUJBM0JuQjdFLEVBQUV1QixFQUFFOzs7Ozs7Ozs7O1lBa0N4QjVDLHVCQUNHLDhEQUFDZ0U7Z0JBQUlqRCxPQUFPO29CQUNSdUUsV0FBVztvQkFBR3BCLFFBQVE7b0JBQXFCRSxZQUFZO29CQUN2REQsY0FBYztvQkFBSUYsU0FBUztvQkFBSXdCLE9BQU87b0JBQVdFLFVBQVU7Z0JBQy9EOzBCQUNLM0Y7Ozs7OztZQUlSbUYseUJBQ0csOERBQUNuQjtnQkFBSWpELE9BQU87b0JBQUV1RSxXQUFXO2dCQUFFOzBCQUN0QmY7Ozs7OzswQkFLVCw4REFBQ1A7Z0JBQUltQyxLQUFLM0Y7Z0JBQWFPLE9BQU87b0JBQUVtRSxRQUFRO2dCQUFFOzs7Ozs7Ozs7Ozs7QUFHdEQ7R0FsTXdCeEY7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kZW5pc2thbGVuZ2F3YXRzaGlwYW1iYS9Eb2N1bWVudHMvcHJvamVjdHMvZm9uZGVrYS9mb25kZWthLXBheS9hcHAvcC9bY29kZV0vcGF5bWVudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL3AvW2NvZGVdL3BheW1lbnRzLmpzXG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQVBJX0JBU0UgfSBmcm9tICcuLi8uLi8uLi9saWIvYXBpJzsgLy8gPC0tIHVzZXMgTkVYVF9QVUJMSUNfQVBJX0JBU0VcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGF5bWVudHNGZWVkKHsgcHVibGljQ29kZSwgY3VycmVuY3kgPSAnVVNEJywgcGFnZVNpemUgPSAxMCB9KSB7XG4gICAgY29uc3QgW2l0ZW1zLCBzZXRJdGVtc10gPSB1c2VTdGF0ZShbXSk7ICAgICAgICAgIC8vIGFjY3VtdWxhdGVkIHJlc3VsdHNcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gICAgLy8gcGFnaW5hdGlvbiBzdGF0ZSBpbiByZWZzIChhdm9pZHMgc3RhbGUgY2xvc3VyZXMgLyBkb3VibGUgbG9hZHMpXG4gICAgY29uc3QgcGFnZVJlZiA9IHVzZVJlZigwKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIG5leHQgcGFnZSB0byBsb2FkXG4gICAgY29uc3QgaGFzTW9yZVJlZiA9IHVzZVJlZih0cnVlKTtcbiAgICBjb25zdCBsb2FkaW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBmZXRjaGVkUGFnZXNSZWYgPSB1c2VSZWYobmV3IFNldCgpKTsgICAgICAgLy8gcGFnZXMgYWxyZWFkeSBmZXRjaGVkXG4gICAgY29uc3QgYWJvcnRSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAvLyBzZW50aW5lbCArIG9ic2VydmVyXG4gICAgY29uc3Qgc2VudGluZWxSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgaW5pdGlhbGl6ZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuXG4gICAgY29uc3QgZm10TW9uZXkgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKG4pID0+XG4gICAgICAgICAgICB0eXBlb2YgbiA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICA/IG4udG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeSwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pXG4gICAgICAgICAgICAgICAgOiBuLFxuICAgICAgICBbY3VycmVuY3ldXG4gICAgKTtcblxuICAgIGNvbnN0IGZtdERhdGUgPSAoaXNvKSA9PiB7XG4gICAgICAgIHRyeSB7IHJldHVybiBuZXcgRGF0ZShpc28pLnRvTG9jYWxlU3RyaW5nKCk7IH0gY2F0Y2ggeyByZXR1cm4gaXNvIHx8ICfigJQnOyB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoUGFnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChwKSA9PiB7XG4gICAgICAgIGlmICghcHVibGljQ29kZSkgcmV0dXJuO1xuICAgICAgICBpZiAobG9hZGluZ1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGlmICghaGFzTW9yZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGlmIChmZXRjaGVkUGFnZXNSZWYuY3VycmVudC5oYXMocCkpIHJldHVybjtcblxuICAgICAgICBsb2FkaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgICAvLyBjYW5jZWwgaW4tZmxpZ2h0IHJlcXVlc3QgaWYgYW55XG4gICAgICAgIGlmIChhYm9ydFJlZi5jdXJyZW50KSBhYm9ydFJlZi5jdXJyZW50LmFib3J0KCk7XG4gICAgICAgIGNvbnN0IGFjID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBhYm9ydFJlZi5jdXJyZW50ID0gYWM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke0FQSV9CQVNFfS9wdWJsaWMvcGF5bWVudC1yZXF1ZXN0cy8ke2VuY29kZVVSSUNvbXBvbmVudChwdWJsaWNDb2RlKX0vcGF5bWVudHM/cGFnZT0ke3B9JnNpemU9JHtwYWdlU2l6ZX1gO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7IGNhY2hlOiAnbm8tc3RvcmUnLCBzaWduYWw6IGFjLnNpZ25hbCB9KTtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBBcnJheS5pc0FycmF5KGpzb24/LmNvbnRlbnQpID8ganNvbi5jb250ZW50IDogW107XG4gICAgICAgICAgICBzZXRJdGVtcygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KHByZXYubWFwKCh4KSA9PiB4LmlkKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWVuLmhhcyhpdC5pZCkpIG5leHQucHVzaChpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZldGNoZWRQYWdlc1JlZi5jdXJyZW50LmFkZChwKTtcbiAgICAgICAgICAgIGhhc01vcmVSZWYuY3VycmVudCA9IGpzb24/Lmxhc3QgPT09IGZhbHNlOyAvLyB0aGVyZSBpcyBtb3JlIG9ubHkgaWYgbGFzdD1mYWxzZVxuICAgICAgICAgICAgcGFnZVJlZi5jdXJyZW50ID0gcCArIDE7ICAgICAgICAgICAgICAgICAgIC8vIGFkdmFuY2VcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGU/Lm5hbWUgIT09ICdBYm9ydEVycm9yJykgc2V0RXJyb3IoZT8ubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWllbWVudHMuJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoYWJvcnRSZWYuY3VycmVudCA9PT0gYWMpIGFib3J0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgbG9hZGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCBbcHVibGljQ29kZSwgcGFnZVNpemVdKTtcblxuICAgIC8vIGluaXRpYWxpemUgcGVyIGNvZGVcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyByZXNldCBhbGwgc3RhdGUvcmVmc1xuICAgICAgICBzZXRJdGVtcyhbXSk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICBmZXRjaGVkUGFnZXNSZWYuY3VycmVudC5jbGVhcigpO1xuICAgICAgICBwYWdlUmVmLmN1cnJlbnQgPSAwO1xuICAgICAgICBoYXNNb3JlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBsb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcblxuICAgICAgICAvLyBraWNrIG9mZiBmaXJzdCBwYWdlXG4gICAgICAgIGluaXRpYWxpemVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBmZXRjaFBhZ2UoMCk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChhYm9ydFJlZi5jdXJyZW50KSBhYm9ydFJlZi5jdXJyZW50LmFib3J0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW3B1YmxpY0NvZGUsIGZldGNoUGFnZV0pO1xuXG4gICAgLy8gaW50ZXJzZWN0aW9uIG9ic2VydmVyOiBsb2FkIG5leHQgcGFnZSB3aGVuIHNlbnRpbmVsIGlzIHZpc2libGVcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWluaXRpYWxpemVkUmVmLmN1cnJlbnQgfHwgIXNlbnRpbmVsUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdCA9IGVudHJpZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKCFmaXJzdD8uaXNJbnRlcnNlY3RpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGZpcmUgd2hlbiBub3QgbG9hZGluZyBhbmQgbW9yZSBwYWdlcyBleGlzdFxuICAgICAgICAgICAgICAgIGlmICghbG9hZGluZ1JlZi5jdXJyZW50ICYmIGhhc01vcmVSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBmZXRjaFBhZ2UocGFnZVJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyByb290OiBudWxsLCByb290TWFyZ2luOiAnMjAwcHggMHB4JywgdGhyZXNob2xkOiAwLjEgfVxuICAgICAgICApO1xuXG4gICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQub2JzZXJ2ZShzZW50aW5lbFJlZi5jdXJyZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyUmVmLmN1cnJlbnQ/LmRpc2Nvbm5lY3QoKTtcbiAgICB9LCBbZmV0Y2hQYWdlXSk7XG5cbiAgICBjb25zdCBFbXB0eSA9IChcbiAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAxMiwgYm9yZGVyOiAnMXB4IGRhc2hlZCB2YXIoLS1icmFuZC1ib3JkZXIpJywgYm9yZGVyUmFkaXVzOiAxMiwgYmFja2dyb3VuZDogJyNmZmYnIH19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYWJlbFwiIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogNCB9fT5BdWN1biBwYWllbWVudDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLW11dGVkXCI+TGVzIHBhaWVtZW50cyBhcHBhcmHDrnRyb250IGljaSBhdSBmdXIgZXQgw6AgbWVzdXJlLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xuXG4gICAgY29uc3QgU2tlbGV0b24gPSAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiA4IH19PlxuICAgICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDMgfSkubWFwKChfLCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1icmFuZC1ib3JkZXIpJywgYm9yZGVyUmFkaXVzOiAxMiwgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMiwgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiA4XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICc2MCUnLCBoZWlnaHQ6IDEyLCBiYWNrZ3JvdW5kOiAnI0YxRjVGOScsIGJvcmRlclJhZGl1czogNiB9fSAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiA4MCwgaGVpZ2h0OiAxMiwgYmFja2dyb3VuZDogJyNGMUY1RjknLCBib3JkZXJSYWRpdXM6IDYgfX0gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xuXG4gICAgY29uc3QgbG9hZGluZyA9IGxvYWRpbmdSZWYuY3VycmVudDtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImNhcmQgY2FyZC0tcGxhaW5cIiBzdHlsZT17eyBiYWNrZ3JvdW5kOiAnI2ZmZicgfX0+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlBhaWVtZW50czwvaDM+XG5cbiAgICAgICAgICAgIHshaXRlbXMubGVuZ3RoICYmICFsb2FkaW5nICYmICFlcnJvciAmJiBFbXB0eX1cblxuICAgICAgICAgICAgeyEhaXRlbXMubGVuZ3RoICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogOCwgbWFyZ2luVG9wOiA4IH19PlxuICAgICAgICAgICAgICAgICAgICB7aXRlbXMubWFwKChwKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtwLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1icmFuZC1ib3JkZXIpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiA4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtaW5XaWR0aDogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiA4MDAsIGNvbG9yOiAnIzBmMTcyYScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm10TW9uZXkocC5hbW91bnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsIGNvbG9yOiAnIzQ3NTU2OScsIG1hcmdpblRvcDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJywgd2hpdGVTcGFjZTogJ25vd3JhcCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17cC5wYXllck5hbWUgfHwgcC5wYXllclJlZmVyZW5jZSB8fCB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwLnBheWVyTmFtZSB8fCBwLnBheWVyUmVmZXJlbmNlIHx8ICfigJQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAxMiwgY29sb3I6ICcjNjQ3NDhCJywgd2hpdGVTcGFjZTogJ25vd3JhcCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmbXREYXRlKHAuY3JlYXRlZEF0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IDgsIGJvcmRlcjogJzFweCBzb2xpZCAjRkVDQUNBJywgYmFja2dyb3VuZDogJyNGRUYyRjInLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDEyLCBwYWRkaW5nOiAxMCwgY29sb3I6ICcjOTkxQjFCJywgZm9udFNpemU6IDEzXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtsb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogOCB9fT5cbiAgICAgICAgICAgICAgICAgICAge1NrZWxldG9ufVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIFNlbnRpbmVsIGZvciBpbmZpbml0ZSBzY3JvbGwgKi99XG4gICAgICAgICAgICA8ZGl2IHJlZj17c2VudGluZWxSZWZ9IHN0eWxlPXt7IGhlaWdodDogMSB9fSAvPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJBUElfQkFTRSIsIlBheW1lbnRzRmVlZCIsInB1YmxpY0NvZGUiLCJjdXJyZW5jeSIsInBhZ2VTaXplIiwiaXRlbXMiLCJzZXRJdGVtcyIsImVycm9yIiwic2V0RXJyb3IiLCJwYWdlUmVmIiwiaGFzTW9yZVJlZiIsImxvYWRpbmdSZWYiLCJmZXRjaGVkUGFnZXNSZWYiLCJTZXQiLCJhYm9ydFJlZiIsInNlbnRpbmVsUmVmIiwib2JzZXJ2ZXJSZWYiLCJpbml0aWFsaXplZFJlZiIsImZtdE1vbmV5IiwibiIsInRvTG9jYWxlU3RyaW5nIiwidW5kZWZpbmVkIiwic3R5bGUiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJmbXREYXRlIiwiaXNvIiwiRGF0ZSIsImZldGNoUGFnZSIsInAiLCJjdXJyZW50IiwiaGFzIiwiYWJvcnQiLCJhYyIsIkFib3J0Q29udHJvbGxlciIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcyIsImZldGNoIiwiY2FjaGUiLCJzaWduYWwiLCJvayIsIkVycm9yIiwic3RhdHVzIiwianNvbiIsImNvbnRlbnQiLCJBcnJheSIsImlzQXJyYXkiLCJwcmV2Iiwic2VlbiIsIm1hcCIsIngiLCJpZCIsIm5leHQiLCJpdCIsInB1c2giLCJhZGQiLCJsYXN0IiwiZSIsIm5hbWUiLCJtZXNzYWdlIiwiY2xlYXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJmaXJzdCIsImlzSW50ZXJzZWN0aW5nIiwicm9vdCIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsIkVtcHR5IiwiZGl2IiwicGFkZGluZyIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJjbGFzc05hbWUiLCJtYXJnaW5Cb3R0b20iLCJTa2VsZXRvbiIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiZ2FwIiwiZnJvbSIsImxlbmd0aCIsIl8iLCJpIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwid2lkdGgiLCJoZWlnaHQiLCJsb2FkaW5nIiwic2VjdGlvbiIsImgzIiwibWFyZ2luVG9wIiwibWluV2lkdGgiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJhbW91bnQiLCJmb250U2l6ZSIsIm92ZXJmbG93IiwidGV4dE92ZXJmbG93Iiwid2hpdGVTcGFjZSIsInRpdGxlIiwicGF5ZXJOYW1lIiwicGF5ZXJSZWZlcmVuY2UiLCJjcmVhdGVkQXQiLCJyZWYiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/p/[code]/payments.js\n"));

/***/ })

});